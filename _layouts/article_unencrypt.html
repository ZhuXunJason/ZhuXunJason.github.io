---
layout: default
---

<div class="article-page">
    <div class="article-container">
        <div class="article-header">
            <div class="post-tags">
                {% if page.tags %}
                {% assign tag_string = page.tags | join: ',' %}
                {% assign tag_list = tag_string | split: ',' %}
                {% for tag in tag_list %}
                {% assign trimmed_tag = tag | strip %}
                {% assign tag_class = 'default' %}
                {% if trimmed_tag contains '学术' or trimmed_tag contains 'academic' %}
                {% assign tag_class = 'academic' %}
                {% elsif trimmed_tag contains '生活' or trimmed_tag contains 'life' %}
                {% assign tag_class = 'life' %}
                {% endif %}
                <span class="post-tag {{ tag_class }}">{{ trimmed_tag }}</span>
                {% endfor %}
                {% endif %}
            </div>
            <h1>{{ page.title }}</h1>
            <div class="article-meta">
                <span>作者：{{ page.author | default: '朱洵' }}</span>
                <span class="divider">|</span>
                <span>日期：{{ page.date | date: "%Y年%m月" }}</span>
            </div>
        </div>

        {% if page.featured_image %}
        <div class="article-featured-img">
            <img src="{{ page.featured_image | relative_url }}" alt="{{ page.title }}">
        </div>
        {% endif %}

        <div class="article-content">
            {{ content }}
        </div>
    </div>

    <section id="toc-container"></section>
    <script src="{{ '/assets/js/toc.js' | relative_url }}"></script>

    <!-- 相关文章推荐 -->
    <section id="related-posts-container" class="related-articles"></section>
    <script src="{{ '/assets/js/recommend.js' | relative_url }}"></script>
</div>

<button id="back-to-top-btn" title="回到顶部"><i class="fas fa-arrow-up"></i></button>

<!-- 音乐控件 - 仅在生活类文章中显示 -->
{% assign is_life_article = false %}
{% if page.collection and page.collection == 'life' %}
            {% assign is_life_article = true %}
{% endif %}

{% if is_life_article %}
<div id="music-controller">
    <button id="music-btn" title="播放/暂停音乐">
        <i class="fas fa-music"></i>
    </button>
    <audio id="background-music" preload="auto" loop>
        {% if page.music and page.music != "" %}
            <source src="{{ page.music | relative_url }}" type="audio/mpeg">
        {% else %}
            <source src="{{ '/assets/music/Summer (菊次郎的夏天)  - 久石让.mp3' | relative_url }}" type="audio/mpeg">
        {% endif %}
        您的浏览器不支持音频播放。
    </audio>
</div>
{% endif %}
